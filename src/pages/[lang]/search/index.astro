---
import { PFSearch } from 'astro-pure/components/pages'
import { Button } from 'astro-pure/user'
import PageLayout from '@/layouts/BaseLayout.astro'
import { integ } from '@/site-config'

export { getStaticPaths } from '../../../utils/autoStaticPaths.ts';

const lang: MyBilingualLang = (Astro.params?.lang as MyBilingualLang) || 'en';

const content = {
    en: {
        title: 'Search',
        instruction: 'Enter a search term or phrase to search the blog.',
        description: 'Search relative posts of the whole blog'
    },
    es: {
        title: 'Buscar',
        instruction: 'Ingrese un término de búsqueda o una frase para buscar en el blog.',
        description: 'Buscar publicaciones relacionadas del blog en general'
    }
}[lang];

const meta = {
  description: content.description,
  title: content.title
};
---

<PageLayout {meta} lang={lang}>
<Button title={{ es: 'Atrás', en: 'Back'}[lang]} href=`/${lang}/blog` style='back' />
  <main class='mt-6 lg:mt-10'>
    <div id='content-header' class='animate'>
      <h1 class='mb-6 text-3xl font-medium'>{content.title}</h1>
    </div>

    <div id='content' class='animate'>
      {
        integ.pagefind ? (
          <>
            <p>{content.instruction}</p>
            <PFSearch />
          </>
        ) : (
          <p>Pagefind is disabled.</p>
        )
      }
    </div>
  </main>
</PageLayout>